<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>TCP Connection Analyzer</title>
    </head>
    <body>
        <h1>TCP Connections</h1>
        <script>
            async function fetchConnections() {
                try {
                    const res = await fetch("http://localhost:5000/api/capture/start");

                    console.log(res);
                } catch(err) {
                    console.error("Failed to fetch connections", err)
                }
            }
            fetchConnections()
            const eventSource = new EventSource("/api/capture/stream");

            eventSource.onmessage = function(event) {
                console.log("Received SSE:", event.data);
            };

            eventSource.onerror = function(err) {
                console.error("SSE error:", err);
            };

            eventSource.onopen = function() {
                console.log("SSE connection opened");
            };
    </script>
    </body>
</html>